!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var n=r.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"}(),function(){function e(e,t,r,n,c,i,s){try{var a=e[i](s),o=a.value}catch(e){return void r(e)}a.done?t(o):Promise.resolve(o).then(n,c)}class t{constructor(e){this.query=e}getResult(){var t,r=this;return(t=function*(){try{var e=yield fetch("".concat("https://www.themealdb.com/","api/json/v2/").concat("9973533","/search.php?s=").concat(r.query));r.result=yield e.json()}catch(e){}},function(){var r=this,n=arguments;return new Promise((function(c,i){var s=t.apply(r,n);function a(t){e(s,c,i,a,o,"next",t)}function o(t){e(s,c,i,a,o,"throw",t)}a(void 0)}))})()}}function r(e,t,r,n,c,i,s){try{var a=e[i](s),o=a.value}catch(e){return void r(e)}a.done?t(o):Promise.resolve(o).then(n,c)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(c,i){var s=e.apply(t,n);function a(e){r(s,c,i,a,o,"next",e)}function o(e){r(s,c,i,a,o,"throw",e)}a(void 0)}))}}class c{constructor(e){this.recepe=e,this.id=e.idMeal,this.title=e.strMeal,this.category=e.strCategory,this.cuisine=e.strArea,this.link=e.strSource,this.image=e.strMealThumb}getInstructions(){var e=this.recepe.strInstructions.split("STEP");return this.description=e,this.description}getVideo(){var e=this.recepe.strYoutube;return this.video=e.replace("watch?v=","embed/"),this.video}getIngredients(){var e=this;return n((function*(){e.ingredients=[];for(var t=1;t<21;t++)if(""!=e.recepe["strIngredient".concat(t)]){var r=e.recepe["strIngredient".concat(t)];try{e.ingredientsImage=yield fetch("https://www.themealdb.com/images/ingredients/".concat(r,"-Small.png")),e.ingredientsImage="https://www.themealdb.com/images/ingredients/".concat(r,"-Small.png")}catch(t){e.ingredientsImage=""}e.ingredients.push([e.recepe["strIngredient".concat(t)],e.recepe["strMeasure".concat(t)],e.ingredientsImage])}return e.ingredients}))()}getImage(){var e=this;return n((function*(){e.image=yield fetch(e.recepe.strMealThumb)}))()}getSmallImage(){var e=this;return n((function*(){e.image=yield fetch("".concat(e.recepe.strMealThumb,"/preview"))}))()}}var i={width:window.innerWidth,height:window.innerHeight,main:document.querySelector(".main"),firstScreen:document.querySelector(".first-screen"),searchContainer:document.querySelector(".search"),searchForm:document.querySelector(".search__form"),searchInput:document.querySelector(".search__field"),searchRecepesList:document.querySelector(".recepes__list"),searchTitle:document.querySelector(".search__title"),searchBtn:document.querySelector(".search__btn"),searchBtnSpan:document.querySelector(".search__icon")},s=e=>{var t="<div>".concat(e.strMeal,"</div><img src=").concat(e.strMealThumb,"/preview alt=").concat(e.strMeal,' width="200"><p>').concat(e.strInstructions,"</p>");i.searchRecepesList.insertAdjacentHTML("beforeend",t)};function a(e,t,r,n,c,i,s){try{var a=e[i](s),o=a.value}catch(e){return void r(e)}a.done?t(o):Promise.resolve(o).then(n,c)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,c){var i=e.apply(t,r);function s(e){a(i,n,c,s,o,"next",e)}function o(e){a(i,n,c,s,o,"throw",e)}s(void 0)}))}}var l=function(){var e=o((function*(e,t){var r=document.createElement("div");r.className="recepe__ingredients-container visually-hidden",t.appendChild(r);var n=document.createElement("div");n.className="recepe__ingredients-title-container visually-hidden";var c=document.createElement("h4");c.textContent="Ingredients",c.className="recepe__ingredients-title",n.appendChild(c),r.appendChild(n);var i=document.createElement("div");i.className="recepe__ingredient-container",r.appendChild(i);for(var s=yield e.getIngredients(),a=0;a<s.length;a++){var o=document.createElement("div");o.className="recepe__one-ingredient",i.appendChild(o);var l=document.createElement("h5");l.textContent=s[a][0],l.className="recepe__ingredients-name";var d=document.createElement("p");d.textContent=s[a][1],d.className="recepe__ingredients-measure";var u=document.createElement("img");u.src=s[a][2],u.alt=s[a][0],u.className="recepe__ingredients-img",o.appendChild(l),o.appendChild(d),o.appendChild(u)}}));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=o((function*(e,t,r){var n=document.createElement("div");n.className="recepe__instructions-container visually-hidden";var c=document.createElement("h4");c.textContent="Instructions",c.className="recepe__instructions-title visually-hidden",n.appendChild(c);var s=document.createElement("img");s.width=i.width/2.2,s.className="recepe__image",s.alt=e.title,s.src=yield"".concat(r.image),n.appendChild(s),t.appendChild(n);for(var a=0;a<e.length;a++)if(""!=e){var o=document.createElement("p");o.className="recepe__instructions-p",o.textContent="".concat(e[a]),n.appendChild(o)}}));return function(t,r,n){return e.apply(this,arguments)}}(),u=e=>{e.preventDefault(),document.querySelector(".second-screen").firstChild&&("ingredients"!=e.target.firstChild.nodeValue&&"instructions"!=e.target.firstChild.nodeValue&&"video"!=e.target.firstChild.nodeValue||(e=>{Array.from(document.querySelector(".recepe__sections").children).forEach((e=>{e.classList.contains("visually-hidden")||e.classList.add("visually-hidden")})),document.querySelector(".recepe__".concat(e.target.firstChild.nodeValue,"-container")).classList.remove("visually-hidden")})(e))},p=function(){var e=o((function*(e){if(!document.querySelector(".recepe__title-container")){var t=document.createElement("div");t.className="recepe__title-container",i.main.appendChild(t),document.querySelector(".recepe__title-container").insertAdjacentHTML("beforeend",'<p class="recepe__titles recepe__titles--one"><span class="recepe__titles-span">ingredients</span></p><p class="recepe__titles recepe__titles--two"><span class="recepe__titles-span">instructions</span></p><p class="recepe__titles recepe__titles--three"><span class="recepe__titles-span">video</span></p>')}var r=yield e.getVideo(),n=yield e.getInstructions();if(!document.querySelector(".second-screen")){var c=document.createElement("section");c.className="second-screen",i.main.appendChild(c)}var s,a;s=(a=i.widht>1500?853:i.width>1300?640:i.width>=530?i.width-112:i.width-64)/1.7;var o='<div class=\'recepe\'><div class="recepe__title-nav-container">\n  <h3 class="recepe__title">'.concat(e.title,'</h3><div class="recepe__arrows-container"><button class="btn recepe__arrow-left"></button><button class="btn recepe__arrow-right"></button></div></div><div class="recepe__sections">\n  <div class="recepe__video-container"><iframe class="recepe__video" src=').concat(r," width=").concat(a," height=").concat(s,' frameborder="0"></iframe><div class="recepe__info-container"><p class="recepe__info-p">Category: ').concat(e.category,'</p><p class="recepe__info-p">Cuisine: ').concat(e.cuisine,"</p></div></div>\n  </div></div>\n  ");document.querySelector(".second-screen").insertAdjacentHTML("beforeend",o);var u=document.querySelector(".recepe__sections");l(e,u),d(n,u,e)}));return function(t){return e.apply(this,arguments)}}(),h=()=>{if(document.querySelector(".second-screen"))for(var e=document.querySelector(".second-screen");e.firstChild;)e.removeChild(e.firstChild)};function m(e,t,r,n,c,i,s){try{var a=e[i](s),o=a.value}catch(e){return void r(e)}a.done?t(o):Promise.resolve(o).then(n,c)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,c){var i=e.apply(t,r);function s(e){m(i,n,c,s,a,"next",e)}function a(e){m(i,n,c,s,a,"throw",e)}s(void 0)}))}}var _={index:0},f=function(){var e=v((function*(e){e.preventDefault();var r=i.searchInput.value;if(r){if(h(),_.search=new t(r),i.searchInput.value="",i.searchRecepesList.innerHtml="",yield _.search.getResult(),null==(yield _.search.result.meals))return void h();_.recepe=new c(_.search.result.meals[_.index]),i.firstScreen.classList.add("first-screen__squeeze"),i.searchContainer.classList.add("search-squeeze"),i.searchForm.classList.add("search-squeeze__form"),i.searchInput.classList.add("search-squeeze__field"),i.searchTitle.classList.add("search-squeeze__title"),i.searchBtn.classList.add("search-squeeze__btn"),i.searchBtnSpan.classList.add("search-squeeze__icon"),yield p(_.recepe),_.search.result.meals.forEach(s),document.querySelector(".recepe__title-container").addEventListener("click",u),i.width<=720&&document.querySelector(".recepe__title-container")&&(document.querySelector(".recepe__title-container").classList.add("recepe__mob-nav"),document.querySelectorAll(".recepe__titles ").forEach((e=>e.classList.add("visually-hidden"))))}}));return function(t){return e.apply(this,arguments)}}();i.searchForm.addEventListener("submit",f),document.addEventListener("click",function(){var e=v((function*(e){e.preventDefault,(e.target.classList.contains("recepe__arrow-right")||e.target.classList.contains("recepe__arrow-left"))&&(_.max=_.search.result.meals.length,e.target.classList.contains("recepe__arrow-right")&&(_.index<_.max-1?_.index++:_.index=0),e.target.classList.contains("recepe__arrow-left")&&(_.index>0?_.index--:_.index=_.max-1),_.recepe=new c(_.search.result.meals[_.index]),h(),yield p(_.recepe))}));return function(t){return e.apply(this,arguments)}}()),document.addEventListener("click",(e=>{var t;e.target.classList.contains("recepe__mob-nav")&&(e.preventDefault(),(t=document.querySelectorAll(".recepe__titles ")).forEach((e=>{e.classList.remove("visually-hidden"),e.addEventListener("click",(e=>{t.forEach((e=>e.classList.add("visually-hidden")))}))})))}))}(),e.p}();